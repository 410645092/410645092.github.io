# Unity -MLA-Project-Demo-Experience

​	这段时间研究了下MLA，对其做了几个实验性DEMO用来测试



- #### 项目一：让AI按顺序使用123456789个不同的方法函数 （失败）最多只能1-5

  其实现过程利用9个不同的Button按钮对应9个不同的方法，以下用1-9数字代表。这里需要用到MLA中Aciton为离散方式，并且每次只需要用到一个数值，即一个数组，其长度为9。通过神经网络算法给出的值去执行相关的函数，收集的数值有两个，包括当前实际执行的值（Receive给的值），以及本应该去执行的值，通过这两个值的收集来影响算法，来决定Receive函数中收到的值，所以Vector Observation=2。

  在过程中，只有数字具有连贯性才会给出奖励，且奖励是越来越大，即0.1 0.2 0.3…… 给出的N*0.1，如果中途出错 会扣除相应获取的奖励，最终实现最好的情况下是1-5能连续起来，但是越练越差，导致最后一直处于12121212，这就很纳闷了。我相应的调整了惩罚机制，给予固定的惩罚数值，而不是全部扣除，其结果在300多万次后依旧还是121212121，反而是在十几万次的时候能出现1-5这种连贯性非常好的情况。

  后面又尝试了模拟方式的学习，通过演示DEMO让AI去模仿录像学习，其结果还是不够理想，依旧是12121212121212。

  

- #### 项目二：模拟人的日常生活需求，需要维持不同的数值不能为0 （我也不知道算不算成功，或者说勉强算）最多5000步未死亡

  快乐：需要通过玩乐提高

  饥饿：通过餐厅提高

  内急：通过厕所提高

  疲劳：通过卧室天提高

  财产：通过上班提高

  快乐、饥饿都需要使用财产消费才能提高，整体上模拟的就是一个人需要上班赚钱，饿了花钱吃饭，不开心了花钱快乐，尿急了去尿尿，累了回家睡觉，没钱的就去上班赚钱，除了财产以外，其他四个数值任何一个数值归零即重生。

  其实现方法通过UI搭建出不同的区域，通过收集快乐、饥饿、内急、疲劳、财产、以及当前正在执行的行为ID给神经网络进行计算，所以Vector Observation=6。这里用到的也是MLA中Action为离散方式，并且每次只需要用到一个数值，即一个数组，其长度为5，

  当神经网络通过收集的数值给出相应的值到Receive函数中，来决定AI需要做什么事情，然后相应的移动到某个区域，再通过Request Decision方法来决定下一步需要做什么，即重新请求一次神经网络算法，来给Receive值。

  其奖励机制为每行动一步都会扣除一定的奖励，财产外的其余需求数值<3时，AI到达相应的区域即可获得奖励，吃饭，玩乐也是要花钱的， 没钱也不会发放奖励。连续执行100次对的情况下，还会额外给予奖励。

  整个项目最终在45W步的时候达到顶峰，连续5000步没死亡，并且持续了一段时间，但是在下一次日志中开始走下坡路，出现了疯狂打工，疯狂追求快乐，不吃不喝的情况，着魔了。初步推算可能是花钱追求快乐时给的奖励比其他多？

  

- #### AI头顶球，防止球落下，且球每次顶到后的力和方向都有小浮动的变化（成功）

  实现一个球随机从天空落下，小人需要跑到准确的位置将球顶起，如果球落地不会宣判结束重新开始，小人可以将球扔起来继续，只有当球掉到平台下或者小人自己跑到平台下，以及小人连续顶球100次拿到奖励后才会结束重开。

  将球添加刚体，每次落下后随即一个小幅度变相的向上力，然后小人需要移动位置继续顶他，球落地后，小人走过去，给球施加一个向上的力，将其扔起来继续顶，在这过程中，神经网络需要收集球的位置XYZ，小人的位置XZ ，由于小人不需要改变高度，所以Y轴可以忽略，球受到的力velocity，以及球到小人的一个向量XYZ（这里其实用XZ也行毕竟 对于小人来说 Y忽略），所以这里Vector Observation=8。这里用到了MLA中Action为持续性的方式，输入的-1到1的浮点数来操控小人移动，这里需要两组值 一个前后 一个左右转向。神经网络通过收集到的数据来给出相应的值到Receive函数操控小人的移动， 每一次小人顶到球就会给奖励，把球从地上扔起来会给很小的奖励，球掉下平台或者自己人掉下平台都会扣1奖励，连续顶球100次也会额外获得1奖励。

  这里250W次后基本成型，虽然偶尔也会掉落但是不多，但是有个奇怪的现象，因为球每次碰触会有一个横向的随机力，导致球可能会往平台边缘跑，慢慢的不注意就掉下去，那么小人如果没掉下去，他不会选择跑回中间，而是选择自己跳下平台重生，我后期思考这可能是因为我的球和小人重生点是固定在中间，所以自杀是最快捷的一种方式？

  

#### 



